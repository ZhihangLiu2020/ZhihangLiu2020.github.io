(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{529:function(t,v,_){"use strict";_.r(v);var a=_(1),i=Object(a.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h2",{attrs:{id:"第一章-概述"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第一章-概述"}},[t._v("#")]),t._v(" 第一章 概述")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("应用程序（应用层）通常是一个用户进程，而下三层（运输层、网络层、链路层）一般在操作系统内核中执行。")])]),t._v(" "),_("li",[_("p",[t._v("连接两个网络，可以使用路由器在网络层互连，也可以使用网桥在链路层互连。")]),t._v(" "),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-13 下午11.05.57.png",alt:"截屏2021-04-13 下午11.05.57"}})]),t._v(" "),_("li",[_("p",[t._v("5类IP地址范围：")]),t._v(" "),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-13 下午11.10.17.png",alt:"截屏2021-04-13 下午11.10.17"}}),t._v(" "),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-13 下午11.10.35.png",alt:"截屏2021-04-13 下午11.10.35"}})]),t._v(" "),_("li",[_("p",[t._v("TCP和UDP都在首部中用一个16bit的端口号来标识应用程序。")]),t._v(" "),_("p",[t._v("IP为了标识上层协议，在首部中用8bit的数值来标识。1为ICPMP，6为TCP，17为UDP。")]),t._v(" "),_("p",[t._v("以太网帧在首部用16bit来标识网络层的协议。（IP、ARP、RARP）")])]),t._v(" "),_("li",[_("p",[t._v("分用：目的主机收到以太网帧时，层层上交给对应的上层协议，这个过程叫分用。"),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-13 下午11.28.23.png",alt:"截屏2021-04-13 下午11.28.23"}})])]),t._v(" "),_("li",[_("p",[t._v("CS模型分为两种：一般TCP服务器是并发的，UDP服务器是重复的")]),t._v(" "),_("ul",[_("li",[t._v("重复型"),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-13 下午11.30.55.png",alt:"截屏2021-04-13 下午11.30.55"}})]),t._v(" "),_("li",[t._v("并发型"),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-13 下午11.31.22.png",alt:"截屏2021-04-13 下午11.31.22"}})])])])]),t._v(" "),_("h2",{attrs:{id:"第二章-链路层"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第二章-链路层"}},[t._v("#")]),t._v(" 第二章 链路层")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("链路层主要3个目的：")]),t._v(" "),_("ul",[_("li",[t._v("为IP模块发送和接收")]),t._v(" "),_("li",[t._v("为ARP模块发送和应答")]),t._v(" "),_("li",[t._v("为RARP模块发送和应答")])])]),t._v(" "),_("li",[_("p",[t._v("以太网就是局域网技术，采用CSMA/CD接入方法，速率为10MB/s，地址为48bit（mac地址），以太网封装格式："),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-13 下午11.48.52.png",alt:"截屏2021-04-13 下午11.48.52"}})])]),t._v(" "),_("li",[_("p",[t._v("PPP协议：经常用于低速的串行链路。")]),t._v(" "),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-13 下午11.55.11.png",alt:"截屏2021-04-13 下午11.55.11"}})]),t._v(" "),_("li",[_("p",[t._v("路径MTU：当两个不同网络中的主机之间通信时，两台主机路径的最小MTU叫做路径MTU，并且两个方向上的路径MTU可能不同。")])])]),t._v(" "),_("h2",{attrs:{id:"第三章-ip-网际协议"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第三章-ip-网际协议"}},[t._v("#")]),t._v(" 第三章 IP：网际协议")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("如果IP数据包在中途被丢弃了，会发送ICMP消息给信源端。")]),t._v(" "),_("p",[t._v("IP首部：最高位在左边0bit，最低位在右边，记为31bit。")]),t._v(" "),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-14 上午12.16.41.png",alt:"截屏2021-04-14 上午12.16.41"}}),t._v(" "),_("p",[t._v("**大端字节序：**传输的时候顺序为：0-7，8-15，16-23，24-31.")]),t._v(" "),_("p",[t._v("TCP/IP首部中所有的二进制整数在网络中传输都用大端字节序，因此又叫网络字节序。以小端格式存储二进制整数的机器，在传输前要先把首部转换成网络字节序。")]),t._v(" "),_("p",[t._v("**首部长度：**以32bit（4字节）为单位，因此首部最长60字节。普通IP数据报这个字段的值为5.")]),t._v(" "),_("p",[t._v("**服务类型：**其中有4bit位决定服务类型，分别代表最小时延、最大吞吐量、最高可靠性、最小费用，且同时只能有1位置位1.一般数据报4位全0.")]),t._v(" "),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-14 上午12.27.34.png",alt:"截屏2021-04-14 上午12.27.34"}}),t._v(" "),_("p",[t._v("标识：该字段唯一的标识主机发送的每一份数据报，每发送一份就加1.")]),t._v(" "),_("p",[t._v("TTL：初始值由源主机设置（32或64），一旦经过一个路由器，就减1，当该字段为0时，被丢弃并且发送ICMP消息给源端。")]),t._v(" "),_("p",[t._v("首部检验和：根据IP首部计算的检验和码，不包括数据部分。与之不同的是，ICMP，TCP，UDP的检验和都包括对数据部分的计算。")])]),t._v(" "),_("li",[_("p",[t._v("当今大多数的主机，既可以配置成主机，也可以配置成路由器。本质区别是，主机从不把数据报从一个接口转发到另一个接口。")])]),t._v(" "),_("li",[_("p",[t._v("IP层的路由表存在内存中，收到一份数据报时，如果目的IP是本机或者广播，那就送到上层，否则：1）如果IP层被设置为路由器的功能，就转发；2）如果没有设置成路由器，就丢弃。")])]),t._v(" "),_("li",[_("p",[t._v("IP路由选择算法：")])])]),t._v(" "),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-14 上午12.43.02.png",alt:"截屏2021-04-14 上午12.43.02"}}),t._v(" "),_("h2",{attrs:{id:"第四章-arp"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第四章-arp"}},[t._v("#")]),t._v(" 第四章 ARP")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("点对点链路不使用ARP，设置这种链路时，必须告知内核，链路每一端的IP地址，并且不涉及mac地址。")])]),t._v(" "),_("li",[_("p",[t._v("ARP请求/应答分组格式：")]),t._v(" "),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-14 上午12.59.39.png",alt:"截屏2021-04-14 上午12.59.39"}})])]),t._v(" "),_("h2",{attrs:{id:"第五章-rarp"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第五章-rarp"}},[t._v("#")]),t._v(" 第五章 RARP")]),t._v(" "),_("ul",[_("li",[t._v("ARP是完成IP到MAC的转换，RARP是完成MAC到IP的转换。")])]),t._v(" "),_("h2",{attrs:{id:"第六章-icmp-internet控制报文协议"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第六章-icmp-internet控制报文协议"}},[t._v("#")]),t._v(" 第六章 ICMP：Internet控制报文协议")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("ICMP报文封装在IP数据报内部")]),t._v(" "),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-14 上午10.08.15.png",alt:"截屏2021-04-14 上午10.08.15"}})]),t._v(" "),_("li",[_("p",[t._v("所有ICMP报文的前4个字节都是3个字段，后面的内容根据类型和代码的不同而不同")]),t._v(" "),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-14 上午10.12.33.png",alt:"截屏2021-04-14 上午10.12.33"}})]),t._v(" "),_("li",[_("p",[t._v("下面情况不会导致ICMP差错报文产生：")]),t._v(" "),_("ul",[_("li",[t._v("ICMP差错报文（ICMP查询报文可能会产生ICMP差错报文）")]),t._v(" "),_("li",[t._v("目的地址是广播或多播的IP数据报")]),t._v(" "),_("li",[t._v("作为链路层广播的数据报")]),t._v(" "),_("li",[t._v("不是IP分片的第一片")]),t._v(" "),_("li",[t._v("源地址不是单个主机的数据报。即源地址不能是零地址，环回地址，广播或多播地址。")])])])]),t._v(" "),_("h2",{attrs:{id:"第七章-ping程序"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第七章-ping程序"}},[t._v("#")]),t._v(" 第七章 Ping程序")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("PIng其实就是发送ICMP回显请求报文，返回ICMP回显应答报文。它不经过传输层，ping服务器一般在内核中实现ICMP的功能。")]),t._v(" "),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-14 上午10.28.03.png",alt:"截屏2021-04-14 上午10.28.03"}})])]),t._v(" "),_("h2",{attrs:{id:"第八章-traceroute程序"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第八章-traceroute程序"}},[t._v("#")]),t._v(" 第八章 traceroute程序")]),t._v(" "),_("ul",[_("li",[t._v("traceroute程序可以显示IP数据报从一台主机到另一台主机所经过的路由。")]),t._v(" "),_("li",[t._v("traceroute使用UDP，选择一个不可能的值作为UDP目的端口号，使目的主机产生一份端口不可达错误的ICMP报文，从而知道已经到达了目的主机，traceroute程序停止。若收到的是ICMP超时报文，说明还没到达目的主机，继续增加TTL并发送。")]),t._v(" "),_("li",[t._v("traceroute操作过程：\n"),_("ul",[_("li",[t._v("发送TTL=1的IP数据报给目的主机，处理该数据报的第一个路由器将TTL减1，丢弃，并发回一份超时ICMP报文，这样就得到了第一个路由器的地址")]),t._v(" "),_("li",[t._v("发送TTL=2的IP数据报，得到第二个路由器的地址")]),t._v(" "),_("li",[t._v("继续这个过程，直到该数据报到达目的主机")])])]),t._v(" "),_("li",[t._v("traceroute对于每个TTL都发送3份数据报，每收到一个回答就打印往返时间，没收到就打印一个*。")])]),t._v(" "),_("h2",{attrs:{id:"第九章-ip选路-单个系统"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第九章-ip选路-单个系统"}},[t._v("#")]),t._v(" 第九章 IP选路（单个系统）")]),t._v(" "),_("ul",[_("li",[t._v("netstat -rn 查看路由表")]),t._v(" "),_("li",[t._v("路由表flag字段含义："),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-14 上午11.44.06.png",alt:"截屏2021-04-14 上午11.44.06"}})]),t._v(" "),_("li",[_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-14 上午11.50.25.png",alt:"截屏2021-04-14 上午11.50.25"}})])]),t._v(" "),_("h2",{attrs:{id:"第十章-动态选路协议-路由器之间"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第十章-动态选路协议-路由器之间"}},[t._v("#")]),t._v(" 第十章 动态选路协议（路由器之间）")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("路由器中有一个守护进程，运行选路协议，与相邻的路由器进行通信。")])]),t._v(" "),_("li",[_("p",[t._v("IGP(Interior Gateway Protocol)：内部网关协议")]),t._v(" "),_("ul",[_("li",[t._v("RIP")]),t._v(" "),_("li",[t._v("OSPF")])])]),t._v(" "),_("li",[_("p",[t._v("EGP(Exterior Gateway Protocol)：外部网关协议")]),t._v(" "),_("ul",[_("li",[t._v("BGP")])])]),t._v(" "),_("li",[_("p",[t._v("RIP报文封装在UDP中：")]),t._v(" "),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-19 下午11.25.19.png",alt:"截屏2021-04-19 下午11.25.19"}})])]),t._v(" "),_("h2",{attrs:{id:"第十一章-udp-用户数据报协议"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第十一章-udp-用户数据报协议"}},[t._v("#")]),t._v(" 第十一章 UDP：用户数据报协议")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("UDP数据报格式：")]),t._v(" "),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-19 下午11.30.53.png",alt:"截屏2021-04-19 下午11.30.53"}}),t._v(" "),_("img",{staticStyle:{zoom:"50%"},attrs:{src:"/imgs/截屏2021-04-19 下午11.31.08.png",alt:"截屏2021-04-19 下午11.31.08"}})]),t._v(" "),_("li",[_("p",[t._v("TCP端口号和UDP端口号是独立的，因为IP层根据协议字段已经把数据报上交给了正确的协议。如果使用TCP和UDP同时提供某种知名服务，两种协议通常选择相同的端口号。")])]),t._v(" "),_("li",[_("p",[t._v("UDP的检验和是可选的，TCP是必须的。")])]),t._v(" "),_("li",[_("p",[t._v("IP分片：由于以太网MTU的限制，需要把IP数据报分片")]),t._v(" "),_("ul",[_("li",[t._v("理论上IP数据报最大长度为65535字节")]),t._v(" "),_("li",[t._v("把一份IP数据报分片后，只有到达目的地才进行重新组装。")])])])]),t._v(" "),_("h2",{attrs:{id:"第十二章-广播和多播"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第十二章-广播和多播"}},[t._v("#")]),t._v(" 第十二章 广播和多播")]),t._v(" "),_("ul",[_("li",[t._v("广播和多播仅应用于UDP")])])])}),[],!1,null,null,null);v.default=i.exports}}]);